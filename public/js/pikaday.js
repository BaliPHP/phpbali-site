(function(l,q){if("object"===typeof exports){try{var t=require("moment")}catch(e){}module.exports=q(t)}else"function"===typeof define&&define.amd?define(function(e){try{t=e("moment")}catch(w){}return q(t)}):l.Pikaday=q(l.moment)})(this,function(l){var q="function"===typeof l,t=!!window.addEventListener,e=window.document,w=window.setTimeout,h=function(a,b,c,d){t?a.addEventListener(b,c,!!d):a.attachEvent("on"+b,c)},r=function(a,b,c,d){t?a.removeEventListener(b,c,!!d):a.detachEvent("on"+b,c)},g=function(a,
b){return-1!==(" "+a.className+" ").indexOf(" "+b+" ")},B=function(a,b){g(a,b)||(a.className=""===a.className?b:a.className+" "+b)},x=function(a,b){var c=(" "+a.className+" ").replace(" "+b+" "," ");c=c.trim?c.trim():c.replace(/^\s+|\s+$/g,"");a.className=c},C=function(a){return/Array/.test(Object.prototype.toString.call(a))},n=function(a){return/Date/.test(Object.prototype.toString.call(a))&&!isNaN(a.getTime())},M=function(a,b){return[31,0===a%4&&0!==a%100||0===a%400?29:28,31,30,31,30,31,31,30,31,
30,31][b]},E=function(a){n(a)&&a.setHours(0,0,0,0)},F=function(a,b){return a.getTime()===b.getTime()},u=function(a,b,c){var d,y;for(d in b)if((y=void 0!==a[d])&&"object"===typeof b[d]&&null!==b[d]&&void 0===b[d].nodeName)n(b[d])?c&&(a[d]=new Date(b[d].getTime())):C(b[d])?c&&(a[d]=b[d].slice(0)):a[d]=u({},b[d],c);else if(c||!y)a[d]=b[d];return a},D=function(a,b,c){if(e.createEvent){var d=e.createEvent("HTMLEvents");d.initEvent(b,!0,!1);d=u(d,c);a.dispatchEvent(d)}else e.createEventObject&&(d=e.createEventObject(),
d=u(d,c),a.fireEvent("on"+b,d))},G=function(a){0>a.month&&(a.year-=Math.ceil(Math.abs(a.month)/12),a.month+=12);11<a.month&&(a.year+=Math.floor(Math.abs(a.month)/12),a.month-=12);return a},m={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,
minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:"January February March April May June July August September October November December".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" ")},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},N=function(a,b,c){for(b+=a.firstDay;7<=b;)b-=7;return c?a.i18n.weekdaysShort[b]:a.i18n.weekdays[b]},P=function(a){var b=[],c="false";if(a.isEmpty)if(a.showDaysInNextAndPreviousMonths)b.push("is-outside-current-month"),a.enableSelectionDaysInNextAndPreviousMonths||b.push("is-selection-disabled");else return'<td class="is-empty"></td>';a.isDisabled&&b.push("is-disabled");
a.isToday&&b.push("is-today");a.isSelected&&(b.push("is-selected"),c="true");a.hasEvent&&b.push("has-event");a.isInRange&&b.push("is-inrange");a.isStartRange&&b.push("is-startrange");a.isEndRange&&b.push("is-endrange");return'<td data-day="'+a.day+'" class="'+b.join(" ")+'" aria-selected="'+c+'"><button class="pika-button pika-day" type="button" data-pika-year="'+a.year+'" data-pika-month="'+a.month+'" data-pika-day="'+a.day+'">'+a.day+"</button></td>"},Q=function(a,b,c){var d=new Date(c,0,1);return'<td class="pika-week">'+
Math.ceil(((new Date(c,b,a)-d)/864E5+d.getDay()+1)/7)+"</td>"},R=function(a,b,c,d){return'<tr class="pika-row'+(c?" pick-whole-week":"")+(d?" is-selected":"")+'">'+(b?a.reverse():a).join("")+"</tr>"},J=function(a,b,c,d,y,e){var f,k=a._o,g=c===k.minYear,n=c===k.maxYear;e='<div id="'+e+'" class="pika-title" role="heading" aria-live="assertive">';var O=!0,h=!0;var m=[];for(f=0;12>f;f+=1)m.push('<option value="'+(c===y?f-b:12+f-b)+'"'+(f===d?' selected="selected"':"")+(g&&f<k.minMonth||n&&f>k.maxMonth?
'disabled="disabled"':"")+">"+k.i18n.months[f]+"</option>");y='<div class="pika-label">'+k.i18n.months[d]+'<select class="pika-select pika-select-month" tabindex="-1">'+m.join("")+"</select></div>";if(C(k.yearRange)){f=k.yearRange[0];var l=k.yearRange[1]+1}else f=c-k.yearRange,l=1+c+k.yearRange;for(m=[];f<l&&f<=k.maxYear;f+=1)f>=k.minYear&&m.push('<option value="'+f+'"'+(f===c?' selected="selected"':"")+">"+f+"</option>");c='<div class="pika-label">'+c+k.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+
m.join("")+"</select></div>";e=k.showMonthAfterYear?e+(c+y):e+(y+c);g&&(0===d||k.minMonth>=d)&&(O=!1);n&&(11===d||k.maxMonth<=d)&&(h=!1);0===b&&(e+='<button class="pika-prev'+(O?"":" is-disabled")+'" type="button">'+k.i18n.previousMonth+"</button>");b===a._o.numberOfMonths-1&&(e+='<button class="pika-next'+(h?"":" is-disabled")+'" type="button">'+k.i18n.nextMonth+"</button>");return e+"</div>"},H=function(a){var b=this,c=b.config(a);b._onMouseDown=function(a){if(b._v){a=a||window.event;var d=a.target||
a.srcElement;if(d)if(g(d,"is-disabled")||(!g(d,"pika-button")||g(d,"is-empty")||g(d.parentNode,"is-disabled")?g(d,"pika-prev")?b.prevMonth():g(d,"pika-next")&&b.nextMonth():(b.setDate(new Date(d.getAttribute("data-pika-year"),d.getAttribute("data-pika-month"),d.getAttribute("data-pika-day"))),c.bound&&w(function(){b.hide();c.blurFieldOnSelect&&c.field&&c.field.blur()},100))),g(d,"pika-select"))b._c=!0;else if(a.preventDefault)a.preventDefault();else return a.returnValue=!1}};b._onChange=function(a){a=
a||window.event;(a=a.target||a.srcElement)&&(g(a,"pika-select-month")?b.gotoMonth(a.value):g(a,"pika-select-year")&&b.gotoYear(a.value))};b._onKeyChange=function(a){a=a||window.event;if(b.isVisible())switch(a.keyCode){case 13:case 27:c.field&&c.field.blur();break;case 37:a.preventDefault();b.adjustDate("subtract",1);break;case 38:b.adjustDate("subtract",7);break;case 39:b.adjustDate("add",1);break;case 40:b.adjustDate("add",7)}};b._onInputChange=function(a){a.firedBy!==b&&(a=c.parse?c.parse(c.field.value,
c.format):q?(a=l(c.field.value,c.format,c.formatStrict))&&a.isValid()?a.toDate():null:new Date(Date.parse(c.field.value)),n(a)&&b.setDate(a),b._v||b.show())};b._onInputFocus=function(){b.show()};b._onInputClick=function(){b.show()};b._onInputBlur=function(){var a=e.activeElement;do if(g(a,"pika-single"))return;while(a=a.parentNode);b._c||(b._b=w(function(){b.hide()},50));b._c=!1};b._onClick=function(a){a=a||window.event;var d=a=a.target||a.srcElement;if(a){t||!g(a,"pika-select")||a.onchange||(a.setAttribute("onchange",
"return;"),h(a,"change",b._onChange));do if(g(d,"pika-single")||d===c.trigger)return;while(d=d.parentNode);b._v&&a!==c.trigger&&d!==c.trigger&&b.hide()}};b.el=e.createElement("div");b.el.className="pika-single"+(c.isRTL?" is-rtl":"")+(c.theme?" "+c.theme:"");h(b.el,"mousedown",b._onMouseDown,!0);h(b.el,"touchend",b._onMouseDown,!0);h(b.el,"change",b._onChange);c.keyboardInput&&h(e,"keydown",b._onKeyChange);c.field&&(c.container?c.container.appendChild(b.el):c.bound?e.body.appendChild(b.el):c.field.parentNode.insertBefore(b.el,
c.field.nextSibling),h(c.field,"change",b._onInputChange),c.defaultDate||(c.defaultDate=q&&c.field.value?l(c.field.value,c.format).toDate():new Date(Date.parse(c.field.value)),c.setDefaultDate=!0));a=c.defaultDate;n(a)?c.setDefaultDate?b.setDate(a,!0):b.gotoDate(a):b.gotoDate(new Date);c.bound?(this.hide(),b.el.className+=" is-bound",h(c.trigger,"click",b._onInputClick),h(c.trigger,"focus",b._onInputFocus),h(c.trigger,"blur",b._onInputBlur)):this.show()};H.prototype={config:function(a){this._o||(this._o=
u({},m,!0));a=u(this._o,a,!0);a.isRTL=!!a.isRTL;a.field=a.field&&a.field.nodeName?a.field:null;a.theme="string"===typeof a.theme&&a.theme?a.theme:null;a.bound=!!(void 0!==a.bound?a.field&&a.bound:a.field);a.trigger=a.trigger&&a.trigger.nodeName?a.trigger:a.field;a.disableWeekends=!!a.disableWeekends;a.disableDayFn="function"===typeof a.disableDayFn?a.disableDayFn:null;var b=parseInt(a.numberOfMonths,10)||1;a.numberOfMonths=4<b?4:b;n(a.minDate)||(a.minDate=!1);n(a.maxDate)||(a.maxDate=!1);a.minDate&&
a.maxDate&&a.maxDate<a.minDate&&(a.maxDate=a.minDate=!1);a.minDate&&this.setMinDate(a.minDate);a.maxDate&&this.setMaxDate(a.maxDate);C(a.yearRange)?(b=(new Date).getFullYear()-10,a.yearRange[0]=parseInt(a.yearRange[0],10)||b,a.yearRange[1]=parseInt(a.yearRange[1],10)||b):(a.yearRange=Math.abs(parseInt(a.yearRange,10))||m.yearRange,100<a.yearRange&&(a.yearRange=100));return a},toString:function(a){a=a||this._o.format;return n(this._d)?this._o.toString?this._o.toString(this._d,a):q?l(this._d).format(a):
this._d.toDateString():""},getMoment:function(){return q?l(this._d):null},setMoment:function(a,b){q&&l.isMoment(a)&&this.setDate(a.toDate(),b)},getDate:function(){return n(this._d)?new Date(this._d.getTime()):null},setDate:function(a,b){if(!a)return this._d=null,this._o.field&&(this._o.field.value="",D(this._o.field,"change",{firedBy:this})),this.draw();"string"===typeof a&&(a=new Date(Date.parse(a)));if(n(a)){var c=this._o.minDate,d=this._o.maxDate;n(c)&&a<c?a=c:n(d)&&a>d&&(a=d);this._d=new Date(a.getTime());
E(this._d);this.gotoDate(this._d);this._o.field&&(this._o.field.value=this.toString(),D(this._o.field,"change",{firedBy:this}));b||"function"!==typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(a){var b=!0;if(n(a)){if(this.calendars){b=new Date(this.calendars[0].year,this.calendars[0].month,1);var c=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),d=a.getTime();c.setMonth(c.getMonth()+1);c.setDate(c.getDate()-
1);b=d<b.getTime()||c.getTime()<d}b&&(this.calendars=[{month:a.getMonth(),year:a.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths));this.adjustCalendars()}},adjustDate:function(a,b){var c=this.getDate()||new Date,d=864E5*parseInt(b),e;"add"===a?e=new Date(c.valueOf()+d):"subtract"===a&&(e=new Date(c.valueOf()-d));this.setDate(e)},adjustCalendars:function(){this.calendars[0]=G(this.calendars[0]);for(var a=1;a<this._o.numberOfMonths;a+=1)this.calendars[a]=
G({month:this.calendars[0].month+a,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(a){isNaN(a)||(this.calendars[0].month=parseInt(a,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month+=1;this.adjustCalendars()},prevMonth:function(){--this.calendars[0].month;this.adjustCalendars()},gotoYear:function(a){isNaN(a)||(this.calendars[0].year=parseInt(a,10),this.adjustCalendars())},setMinDate:function(a){a instanceof Date?(E(a),
this._o.minDate=a,this._o.minYear=a.getFullYear(),this._o.minMonth=a.getMonth()):(this._o.minDate=m.minDate,this._o.minYear=m.minYear,this._o.minMonth=m.minMonth,this._o.startRange=m.startRange);this.draw()},setMaxDate:function(a){a instanceof Date?(E(a),this._o.maxDate=a,this._o.maxYear=a.getFullYear(),this._o.maxMonth=a.getMonth()):(this._o.maxDate=m.maxDate,this._o.maxYear=m.maxYear,this._o.maxMonth=m.maxMonth,this._o.endRange=m.endRange);this.draw()},setStartRange:function(a){this._o.startRange=
a},setEndRange:function(a){this._o.endRange=a},draw:function(a){if(this._v||a){var b=this._o,c=b.minYear,d=b.maxYear,e=b.minMonth,g=b.maxMonth;a="";this._y<=c&&(this._y=c,!isNaN(e)&&this._m<e&&(this._m=e));this._y>=d&&(this._y=d,!isNaN(g)&&this._m>g&&(this._m=g));c="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(d=0;d<b.numberOfMonths;d+=1)a+='<div class="pika-lendar">'+J(this,d,this.calendars[d].year,this.calendars[d].month,this.calendars[0].year,c)+this.render(this.calendars[d].year,
this.calendars[d].month,c)+"</div>";this.el.innerHTML=a;b.bound&&"hidden"!==b.field.type&&w(function(){b.trigger.focus()},1);if("function"===typeof this._o.onDraw)this._o.onDraw(this);b.bound&&b.field.setAttribute("aria-label",b.ariaLabel)}},adjustPosition:function(){var a,b;if(!this._o.container){this.el.style.position="absolute";var c=a=this._o.trigger;var d=this.el.offsetWidth;var g=this.el.offsetHeight;var n=window.innerWidth||e.documentElement.clientWidth;var f=window.innerHeight||e.documentElement.clientHeight;
var k=window.pageYOffset||e.body.scrollTop||e.documentElement.scrollTop;var m=b=!0;if("function"===typeof a.getBoundingClientRect){c=a.getBoundingClientRect();var h=c.left+window.pageXOffset;var l=c.bottom+window.pageYOffset}else for(h=c.offsetLeft,l=c.offsetTop+c.offsetHeight;c=c.offsetParent;)h+=c.offsetLeft,l+=c.offsetTop;if(this._o.reposition&&h+d>n||-1<this._o.position.indexOf("right")&&0<h-d+a.offsetWidth)h=h-d+a.offsetWidth,b=!1;if(this._o.reposition&&l+g>f+k||-1<this._o.position.indexOf("top")&&
0<l-g-a.offsetHeight)l=l-g-a.offsetHeight,m=!1;this.el.style.left=h+"px";this.el.style.top=l+"px";B(this.el,b?"left-aligned":"right-aligned");B(this.el,m?"bottom-aligned":"top-aligned");x(this.el,b?"right-aligned":"left-aligned");x(this.el,m?"top-aligned":"bottom-aligned")}},render:function(a,b,c){var d=this._o,e=new Date,g=M(a,b),f=(new Date(a,b,1)).getDay(),k=[],h=[];E(e);0<d.firstDay&&(f-=d.firstDay,0>f&&(f+=7));for(var l=0===b?11:b-1,m=11===b?0:b+1,q=0===b?a-1:a,r=11===b?a+1:a,t=M(q,l),u=g+f,
z=u;7<z;)z-=7;u+=7-z;z=!1;for(var v=0,w=0;v<u;v+=1){var p=new Date(a,b,1+(v-f)),B=n(this._d)?F(p,this._d):!1,x=F(p,e),C=-1!==d.events.indexOf(p.toDateString())?!0:!1,D=v<f||v>=g+f,I=1+(v-f),K=b,L=a,G=d.startRange&&F(d.startRange,p),H=d.endRange&&F(d.endRange,p),J=d.startRange&&d.endRange&&d.startRange<p&&p<d.endRange,A;!(A=d.minDate&&p<d.minDate||d.maxDate&&p>d.maxDate)&&(A=d.disableWeekends)&&(A=p.getDay(),A=0===A||6===A);p=A||d.disableDayFn&&d.disableDayFn(p);D&&(v<f?(I=t+I,K=l,L=q):(I-=g,K=m,L=
r));x={day:I,month:K,year:L,hasEvent:C,isSelected:B,isToday:x,isDisabled:p,isEmpty:D,isStartRange:G,isEndRange:H,isInRange:J,showDaysInNextAndPreviousMonths:d.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:d.enableSelectionDaysInNextAndPreviousMonths};d.pickWholeWeek&&B&&(z=!0);h.push(P(x));7===++w&&(d.showWeekNumber&&h.unshift(Q(v-f,b,a)),k.push(R(h,d.isRTL,d.pickWholeWeek,z)),h=[],w=0,z=!1)}b=[];d.showWeekNumber&&b.push("<th></th>");for(a=0;7>a;a+=1)b.push('<th scope="col"><abbr title="'+
N(d,a)+'">'+N(d,a,!0)+"</abbr></th>");d="<thead><tr>"+(d.isRTL?b.reverse():b).join("")+"</tr></thead>";return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+c+'">'+d+("<tbody>"+k.join("")+"</tbody>")+"</table>"},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),x(this.el,"is-hidden"),this._o.bound&&(h(e,"click",this._onClick),this.adjustPosition()),"function"===typeof this._o.onOpen&&this._o.onOpen.call(this))},
hide:function(){var a=this._v;!1!==a&&(this._o.bound&&r(e,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",B(this.el,"is-hidden"),this._v=!1,void 0!==a&&"function"===typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){var a=this._o;this.hide();r(this.el,"mousedown",this._onMouseDown,!0);r(this.el,"touchend",this._onMouseDown,!0);r(this.el,"change",this._onChange);a.keyboardInput&&r(e,"keydown",this._onKeyChange);a.field&&
(r(a.field,"change",this._onInputChange),a.bound&&(r(a.trigger,"click",this._onInputClick),r(a.trigger,"focus",this._onInputFocus),r(a.trigger,"blur",this._onInputBlur)));this.el.parentNode&&this.el.parentNode.removeChild(this.el)}};return H});